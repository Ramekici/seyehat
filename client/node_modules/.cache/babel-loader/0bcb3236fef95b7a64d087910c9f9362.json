{"ast":null,"code":"import axios from'axios';import{createSlice}from'@reduxjs/toolkit';var initialState={errors:{titl:'',inf:''},tarihteBugun:[],ilgiliTarihteki:[],tarihItem:{_id:'',user:'',title:'',info:'',date:new Date()},completed:false};export var tarihSlice=createSlice({name:'tarih',initialState:initialState,reducers:{setInitial:function setInitial(state){state.completed=false;state.tarihItem={_id:'',user:'',title:'',info:'',date:new Date()};state.errors={titl:'',inf:''};},setTarihteBugun:function setTarihteBugun(state,action){state.tarihteBugun=action.payload;},setIlgiliTarih:function setIlgiliTarih(state,action){state.ilgiliTarihteki=action.payload;},setDataFailed:function setDataFailed(state,action){state.errors=action.payload;state.completed=false;},setTarihId:function setTarihId(state,action){var item=state.ilgiliTarihteki.find(function(item){return item._id===action.payload;});if(item){state.tarihItem=item;}},setCompleted:function setCompleted(state){state.completed=true;}}});var _tarihSlice$actions=tarihSlice.actions,setDataFailed=_tarihSlice$actions.setDataFailed,setTarihteBugun=_tarihSlice$actions.setTarihteBugun,setIlgiliTarih=_tarihSlice$actions.setIlgiliTarih,setTarihId=_tarihSlice$actions.setTarihId,setInitial=_tarihSlice$actions.setInitial,setCompleted=_tarihSlice$actions.setCompleted;export{setDataFailed,setTarihteBugun,setIlgiliTarih,setTarihId,setInitial,setCompleted};export var setTarihItems=function setTarihItems(data){return function(dispatch){var token=localStorage.getItem('token');axios.post('http://localhost:5000/api/tarih/tarihtebugun',data,{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){dispatch(getTarihteBugun());}).catch(function(err){dispatch(setDataFailed(err.response.data));});};};export var getTarihteBugun=function getTarihteBugun(){return function(dispatch){axios.get(\"http://localhost:5000/api/tarih/tarihte\").then(function(res){dispatch(setTarihteBugun(res.data));}).catch(function(err){dispatch(setDataFailed(err));});};};export var getSpecificDate=function getSpecificDate(date){return function(dispatch){axios.get(\"http://localhost:5000/api/tarih/tarihindeki?date=\".concat(date)).then(function(res){dispatch(setIlgiliTarih(res.data));}).catch(function(err){dispatch(setDataFailed(err));});};};export var deleteTarihItems=function deleteTarihItems(id,date){return function(dispatch){var token=localStorage.getItem('token');axios.delete(\"http://localhost:5000/api/tarih/tarihdelete/\".concat(id),{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){dispatch(getSpecificDate(date));}).catch(function(err){dispatch(setDataFailed(err));});};};export var updateTarihItems=function updateTarihItems(id,data,date){return function(dispatch){var token=localStorage.getItem('token');axios.put(\"http://localhost:5000/api/tarih/tarihupdate/\".concat(id),data,{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){dispatch(getSpecificDate(date));dispatch(setCompleted());dispatch(setInitial());}).catch(function(err){dispatch(setDataFailed(err.response.data));});};};export var stateTarihte=function stateTarihte(state){return state.tarih.tarihteBugun;};export var stateTarih=function stateTarih(state){return state.tarih;};export default tarihSlice.reducer;","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/features/veriler/tarihSlice.ts"],"names":["axios","createSlice","initialState","errors","titl","inf","tarihteBugun","ilgiliTarihteki","tarihItem","_id","user","title","info","date","Date","completed","tarihSlice","name","reducers","setInitial","state","setTarihteBugun","action","payload","setIlgiliTarih","setDataFailed","setTarihId","item","find","setCompleted","actions","setTarihItems","data","dispatch","token","localStorage","getItem","post","headers","then","res","getTarihteBugun","catch","err","response","get","getSpecificDate","deleteTarihItems","id","delete","updateTarihItems","put","stateTarihte","tarih","stateTarih","reducer"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, RootState } from '../../app/store';\nimport { TarihDatas, TarihState, TarihErrors } from '../interfaces/tarihInterface';\n\nconst initialState : TarihState = {\n  errors:{titl:'', inf:''},\n  tarihteBugun:[],\n  ilgiliTarihteki:[],\n  tarihItem:{_id:'', user:'', title:'', info:'', date: new Date()},\n  completed: false\n}\n\n\nexport const tarihSlice = createSlice({\n  name: 'tarih',\n  initialState,\n  reducers: {\n    setInitial:(state) => {\n      state.completed = false;\n      state.tarihItem = {_id:'', user:'', title:'', info:'', date: new Date()};\n      state.errors = {titl:'', inf:''};\n    },\n    setTarihteBugun: (state, action: PayloadAction<Array<TarihDatas>>) => {\n      state.tarihteBugun = action.payload;\n    },\n    setIlgiliTarih: (state, action: PayloadAction<Array<TarihDatas>>) => {\n      state.ilgiliTarihteki = action.payload;\n    },\n    setDataFailed: (state, action: PayloadAction<TarihErrors|any>) => {\n      state.errors = action.payload;\n      state.completed = false;\n    },\n    setTarihId: (state, action: PayloadAction<string>) => {\n      const item = state.ilgiliTarihteki.find(item => item._id === action.payload)\n      if(item) {\n        state.tarihItem = item}\n    },\n    setCompleted:(state) => {\n      state.completed = true;\n    },\n    \n    \n  },\n});\n\nexport const { setDataFailed, setTarihteBugun, setIlgiliTarih, setTarihId, setInitial, setCompleted } = tarihSlice.actions;\n\n\nexport const setTarihItems = (data: TarihDatas): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/tarih/tarihtebugun', data,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getTarihteBugun())\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\nexport const getTarihteBugun = (): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihte`)\n  .then(res => {\n      dispatch(setTarihteBugun(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const getSpecificDate = (date: Date): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihindeki?date=${date}`)\n  .then(res => {\n      dispatch(setIlgiliTarih(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const deleteTarihItems  = (id: string, date: Date): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/tarih/tarihdelete/${id}`, \n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getSpecificDate(date))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const updateTarihItems = (id:string, data:TarihDatas, date:Date): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/tarih/tarihupdate/${id}`, data, \n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getSpecificDate(date));\n      dispatch(setCompleted());\n      dispatch(setInitial());\n    \n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\n\n\n\nexport const stateTarihte = (state: RootState) => state.tarih.tarihteBugun;\nexport const stateTarih = (state: RootState) => state.tarih;\n\n\nexport default tarihSlice.reducer;"]},"metadata":{},"sourceType":"module"}