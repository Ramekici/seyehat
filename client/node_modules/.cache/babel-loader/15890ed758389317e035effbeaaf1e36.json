{"ast":null,"code":"import axios from 'axios';\nimport { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  errors: {},\n  tarihteBugun: [],\n  ilgiliTarihteki: [],\n  tarihItem: {\n    _id: '',\n    user: '',\n    title: '',\n    info: '',\n    date: new Date()\n  },\n  completed: false\n};\nexport const tarihSlice = createSlice({\n  name: 'tarih',\n  initialState,\n  reducers: {\n    setInitial: state => {\n      state.completed = false;\n      state.tarihItem = {\n        _id: '',\n        user: '',\n        title: '',\n        info: '',\n        date: new Date()\n      };\n    },\n    setTarihteBugun: (state, action) => {\n      state.tarihteBugun = action.payload;\n    },\n    setIlgiliTarih: (state, action) => {\n      state.ilgiliTarihteki = action.payload;\n    },\n    setDataFailed: (state, action) => {\n      state.errors = action.payload;\n      state.completed = false;\n    },\n    setTarihId: (state, action) => {\n      const item = state.ilgiliTarihteki.find(item => item._id === action.payload);\n\n      if (item) {\n        state.tarihItem = item;\n      }\n    },\n    setCompleted: state => {\n      state.completed = true;\n    }\n  }\n});\nexport const {\n  setDataFailed,\n  setTarihteBugun,\n  setIlgiliTarih,\n  setTarihId\n} = tarihSlice.actions;\nexport const setTarihItems = data => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/tarih/tarihtebugun', data, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getTarihteBugun());\n  }).catch(err => {\n    dispatch(setDataFailed(err.response.data));\n  });\n};\nexport const getTarihteBugun = () => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihte`).then(res => {\n    dispatch(setTarihteBugun(res.data));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const getSpecificDate = date => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihindeki?date=${date}`).then(res => {\n    dispatch(setIlgiliTarih(res.data));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const deleteTarihItems = (id, date) => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/tarih/tarihdelete/${id}`, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getSpecificDate(date));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const updateTarihItems = (id, data, date) => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/tarih/tarihupdate/${id}`, data, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getSpecificDate(date));\n  }).catch(err => {\n    dispatch(setDataFailed(err.response.data));\n  });\n};\nexport const stateTarihte = state => state.tarih.tarihteBugun;\nexport const stateTarih = state => state.tarih;\nexport default tarihSlice.reducer;","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/features/veriler/tarihSlice.ts"],"names":["axios","createSlice","initialState","errors","tarihteBugun","ilgiliTarihteki","tarihItem","_id","user","title","info","date","Date","completed","tarihSlice","name","reducers","setInitial","state","setTarihteBugun","action","payload","setIlgiliTarih","setDataFailed","setTarihId","item","find","setCompleted","actions","setTarihItems","data","dispatch","token","localStorage","getItem","post","headers","then","res","getTarihteBugun","catch","err","response","get","getSpecificDate","deleteTarihItems","id","delete","updateTarihItems","put","stateTarihte","tarih","stateTarih","reducer"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, RootState } from '../../app/store';\nimport { TarihDatas, TarihState } from '../interfaces/tarihInterface';\n\nconst initialState : TarihState = {\n  errors:{},\n  tarihteBugun:[],\n  ilgiliTarihteki:[],\n  tarihItem:{_id:'', user:'', title:'', info:'', date: new Date()},\n  completed: false\n}\n\n\nexport const tarihSlice = createSlice({\n  name: 'tarih',\n  initialState,\n  reducers: {\n    setInitial:(state) => {\n      state.completed = false;\n      state.tarihItem = {_id:'', user:'', title:'', info:'', date: new Date()};\n    },\n    setTarihteBugun: (state, action: PayloadAction<Array<TarihDatas>>) => {\n      state.tarihteBugun = action.payload;\n    },\n    setIlgiliTarih: (state, action: PayloadAction<Array<TarihDatas>>) => {\n      state.ilgiliTarihteki = action.payload;\n    },\n    setDataFailed: (state, action: PayloadAction<any>) => {\n      state.errors = action.payload;\n      state.completed = false;\n    },\n    setTarihId: (state, action: PayloadAction<string>) => {\n      const item = state.ilgiliTarihteki.find(item => item._id === action.payload)\n      if(item) {\n        state.tarihItem = item}\n    },\n    setCompleted:(state) => {\n      state.completed = true;\n    },\n    \n    \n  },\n});\n\nexport const { setDataFailed, setTarihteBugun, setIlgiliTarih, setTarihId } = tarihSlice.actions;\n\n\nexport const setTarihItems = (data: TarihDatas): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/tarih/tarihtebugun', data,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getTarihteBugun())\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\nexport const getTarihteBugun = (): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihte`)\n  .then(res => {\n      dispatch(setTarihteBugun(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const getSpecificDate = (date: Date): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihindeki?date=${date}`)\n  .then(res => {\n      dispatch(setIlgiliTarih(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const deleteTarihItems  = (id: string, date: Date): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/tarih/tarihdelete/${id}`, \n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getSpecificDate(date))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const updateTarihItems = (id:string, data:TarihDatas, date:Date): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/tarih/tarihupdate/${id}`, data, \n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getSpecificDate(date));\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\n\n\n\nexport const stateTarihte = (state: RootState) => state.tarih.tarihteBugun;\nexport const stateTarih = (state: RootState) => state.tarih;\n\n\nexport default tarihSlice.reducer;"]},"metadata":{},"sourceType":"module"}