{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import axios from'axios';var el={_id:'',user:'',category:'',mission:'',name:'',surName:'',start:'',end:''};var initialState={veriler:[],veri:el,verilerOzel:[],errors:{nam:'',surNam:'',categor:'',missio:''},gosterilen:1,isCompleted:false,updateEl:el,updateId:'',message:'',tarih:'01/10/2010'};export var verilerSlice=createSlice({name:'veriler',initialState:initialState,reducers:{setInitial:function setInitial(state){state.updateEl=el;state.isCompleted=false;state.errors={nam:'',surNam:'',categor:'',missio:''};},setMessage:function setMessage(state){state.message='';state.veri=el;},setVeriler:function setVeriler(state,action){state.veriler=action.payload;state.isCompleted=true;},setVeri:function setVeri(state,action){state.veri=action.payload;state.isCompleted=true;},setVerilerOzel:function setVerilerOzel(state,action){state.verilerOzel=action.payload;state.isCompleted=true;},setDataFailed:function setDataFailed(state,action){state.errors=action.payload;state.isCompleted=false;},setGosterilen:function setGosterilen(state,action){state.gosterilen=action.payload;},setUpdateEL:function setUpdateEL(state,action){var eleman=state.verilerOzel.find(function(item){return item._id===action.payload;});if(eleman){state.updateEl=eleman;}},setVeriTarih:function setVeriTarih(state,action){state.tarih=action.payload;}}});var _verilerSlice$actions=verilerSlice.actions,setVeriler=_verilerSlice$actions.setVeriler,setVeri=_verilerSlice$actions.setVeri,setDataFailed=_verilerSlice$actions.setDataFailed,setUpdateEL=_verilerSlice$actions.setUpdateEL,setVerilerOzel=_verilerSlice$actions.setVerilerOzel,setGosterilen=_verilerSlice$actions.setGosterilen,setInitial=_verilerSlice$actions.setInitial,setMessage=_verilerSlice$actions.setMessage,setVeriTarih=_verilerSlice$actions.setVeriTarih;//// verileri getiriyor\nexport{setVeriler,setVeri,setDataFailed,setUpdateEL,setVerilerOzel,setGosterilen,setInitial,setMessage,setVeriTarih};export var getVeriler=function getVeriler(date){return function(dispatch){axios.get(\"http://localhost:5000/api/veriler?date=\".concat(date)).then(function(res){dispatch(setVeriler(res.data));}).catch(function(err){dispatch(setDataFailed(err));});};};export var getVerilerOzel=function getVerilerOzel(category,mission){return function(dispatch){axios.get(\"http://localhost:5000/api/veriler/ozel?category=\".concat(category,\"&mission=\").concat(mission)).then(function(res){dispatch(setVerilerOzel(res.data));}).catch(function(err){dispatch(setDataFailed(err));});};};export var setVerilerToDatabase=function setVerilerToDatabase(data){return function(dispatch){var token=localStorage.getItem('token');axios.post('http://localhost:5000/api/veriler/create',data,{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){dispatch(setVeri(res.data.profile));dispatch(setInitial());}).catch(function(err){dispatch(setDataFailed(err.response.data));});};};export var deleteVeriler=function deleteVeriler(id,category,mission){return function(dispatch){var token=localStorage.getItem('token');axios.delete(\"http://localhost:5000/api/veriler/\".concat(id),{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){dispatch(getVerilerOzel(category,mission));}).catch(function(err){dispatch(setDataFailed(err));});};};export var updateVeriler=function updateVeriler(id,data,category,mission){return function(dispatch){var token=localStorage.getItem('token');axios.put(\"http://localhost:5000/api/veriler/update/\".concat(id),data,{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){dispatch(getVerilerOzel(category,mission));dispatch(setInitial());}).catch(function(err){dispatch(setDataFailed(err.response.data));});};};export var stateDatas=function stateDatas(state){return state.veriler;};export default verilerSlice.reducer;","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/features/veriler/verilerSlice.ts"],"names":["createSlice","axios","el","_id","user","category","mission","name","surName","start","end","initialState","veriler","veri","verilerOzel","errors","nam","surNam","categor","missio","gosterilen","isCompleted","updateEl","updateId","message","tarih","verilerSlice","reducers","setInitial","state","setMessage","setVeriler","action","payload","setVeri","setVerilerOzel","setDataFailed","setGosterilen","setUpdateEL","eleman","find","item","setVeriTarih","actions","getVeriler","date","dispatch","get","then","res","data","catch","err","getVerilerOzel","setVerilerToDatabase","token","localStorage","getItem","post","headers","profile","response","deleteVeriler","id","delete","updateVeriler","put","stateDatas","reducer"],"mappings":"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","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, RootState } from '../../app/store';\nimport axios from 'axios';\nimport {VeriDatas, Datas, ErrorVeriler, VerilerState} from '../interfaces/veriInterface';\n\nconst el = { _id:'', user:'', category:'', mission:'', name:'', surName:'', start:'', end:''}\n\nconst initialState: VerilerState = {\n  veriler: [],\n  veri: el,\n  verilerOzel:[],\n  errors:{nam:'', surNam:'', categor:'', missio:''},\n  gosterilen: 1, \n  isCompleted: false,\n  updateEl:el,\n  updateId:'',\n  message:'',\n  tarih: '01/10/2010'\n};\n\nexport const verilerSlice = createSlice({\n  name: 'veriler',\n  initialState,\n  reducers: {\n    setInitial:(state) => {\n      state.updateEl = el;\n      state.isCompleted = false;  \n      state.errors = {nam:'', surNam:'', categor:'', missio:''};\n    },\n    setMessage:(state) => {\n      state.message = '';\n      state.veri = el;\n    },\n    setVeriler:(state, action: PayloadAction<Array<VeriDatas>>) => {\n      state.veriler = action.payload;\n      state.isCompleted = true;\n    },\n    setVeri:(state, action: PayloadAction<Datas>) => {\n      state.veri = action.payload;\n      state.isCompleted = true;\n    },\n    setVerilerOzel:(state, action: PayloadAction<Array<Datas>>) => {\n      state.verilerOzel = action.payload;\n      state.isCompleted = true;\n    },\n    setDataFailed: (state, action: PayloadAction<ErrorVeriler>) => {\n      state.errors = action.payload;\n      state.isCompleted = false;\n    },\n    setGosterilen:(state, action: PayloadAction<number>) => {\n      state.gosterilen = action.payload;\n    },\n    setUpdateEL:(state, action: PayloadAction<string>) => {\n      const eleman = state.verilerOzel.find(item => item._id === action.payload);\n      if(eleman){\n        state.updateEl = eleman; \n      }  \n    },\n    setVeriTarih:(state, action: PayloadAction<string>) => {\n      state.tarih = action.payload;\n    }\n\n  },\n});\n\nexport const { setVeriler, setVeri, setDataFailed, setUpdateEL,\n  setVerilerOzel, setGosterilen, setInitial, setMessage, setVeriTarih } = verilerSlice.actions;\n\n\n//// verileri getiriyor\n\nexport const getVeriler = (date: string) : AppThunk => dispatch => {\n    axios.get(`http://localhost:5000/api/veriler?date=${date}`)\n    .then(res => {\n        dispatch(setVeriler(res.data));\n    })\n    .catch(err =>{\n        dispatch(setDataFailed(err))\n    })\n};\n\nexport const getVerilerOzel = (category: string, mission: string): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/veriler/ozel?category=${category}&mission=${mission}`)\n  .then(res => {\n      dispatch(setVerilerOzel(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const setVerilerToDatabase = (data: Datas ): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/veriler/create', data,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n    dispatch(setVeri(res.data.profile));\n    dispatch(setInitial());\n  })\n  .catch(err =>{\n    dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\nexport const deleteVeriler = (id: string, category: string, mission: string): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/veriler/${id}`,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getVerilerOzel(category, mission))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const updateVeriler = (id: string, data: Datas, category: string, mission: string): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/veriler/update/${id}`, data,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getVerilerOzel(category, mission));\n      dispatch(setInitial());\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\nexport const stateDatas = (state: RootState) => state.veriler;\n\n\nexport default verilerSlice.reducer;"]},"metadata":{},"sourceType":"module"}