{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n;\nconst el = {\n  _id: '',\n  user: '',\n  category: '',\n  mission: '',\n  name: '',\n  surName: '',\n  start: '',\n  end: ''\n};\nconst initialState = {\n  veriler: [],\n  veri: el,\n  verilerOzel: [],\n  errors: {\n    nam: '',\n    surNam: '',\n    categor: '',\n    missio: ''\n  },\n  gosterilen: 1,\n  isCompleted: false,\n  updateEl: el,\n  updateId: '',\n  message: '',\n  tarih: '01/10/2010'\n};\nexport const verilerSlice = createSlice({\n  name: 'veriler',\n  initialState,\n  reducers: {\n    setInitial: state => {\n      state.updateEl = el;\n      state.isCompleted = false;\n      state.errors = {\n        nam: '',\n        surNam: '',\n        categor: '',\n        missio: ''\n      };\n    },\n    setMessage: state => {\n      state.message = '';\n      state.veri = el;\n    },\n    setVeriler: (state, action) => {\n      state.veriler = action.payload;\n      state.isCompleted = true;\n    },\n    setVeri: (state, action) => {\n      state.veri = action.payload;\n      state.isCompleted = true;\n    },\n    setVerilerOzel: (state, action) => {\n      state.verilerOzel = action.payload;\n      state.isCompleted = true;\n    },\n    setDataFailed: (state, action) => {\n      state.errors = action.payload;\n      state.isCompleted = false;\n    },\n    setGosterilen: (state, action) => {\n      state.gosterilen = action.payload;\n    },\n    setUpdateEL: (state, action) => {\n      const eleman = state.verilerOzel.find(item => item._id === action.payload);\n\n      if (eleman) {\n        state.updateEl = eleman;\n      }\n    },\n    setVeriTarih: (state, action) => {\n      state.tarih = action.payload;\n    }\n  }\n});\nexport const {\n  setVeriler,\n  setVeri,\n  setDataFailed,\n  setUpdateEL,\n  setVerilerOzel,\n  setGosterilen,\n  setInitial,\n  setMessage,\n  setVeriTarih\n} = verilerSlice.actions; //// verileri getiriyor\n\nexport const getVeriler = date => dispatch => {\n  axios.get(`http://localhost:5000/api/veriler?date=${date}`).then(res => {\n    dispatch(setVeriler(res.data));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const getVerilerOzel = (category, mission) => dispatch => {\n  axios.get(`http://localhost:5000/api/veriler/ozel?category=${category}&mission=${mission}`).then(res => {\n    dispatch(setVerilerOzel(res.data));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const setVerilerToDatabase = data => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/veriler/create', data, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(setVeri(res.data));\n    dispatch(setInitial());\n  }).catch(err => {\n    dispatch(setDataFailed(err.response.data));\n  });\n};\nexport const deleteVeriler = (id, category, mission) => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/veriler/${id}`, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getVerilerOzel(category, mission));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const updateVeriler = (id, data, category, mission) => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/veriler/update/${id}`, data, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getVerilerOzel(category, mission));\n    dispatch(setInitial());\n  }).catch(err => {\n    dispatch(setDataFailed(err.response.data));\n  });\n};\nexport const stateVeri = state => state.veriler.veri;\nexport const verilerStates = state => state.veriler.veriler;\nexport const verilerOzelStates = state => state.veriler.verilerOzel;\nexport const stateGoster = state => state.veriler.gosterilen;\nexport const stateUpdateEl = state => state.veriler.updateEl;\nexport const stateUpdateId = state => state.veriler.updateId;\nexport const stateCompleted = state => state.veriler.isCompleted;\nexport const stateMessage = state => state.veriler.message;\nexport const stateTarih = state => state.veriler.tarih;\nexport const stateErrors = state => state.veriler.errors;\nexport default verilerSlice.reducer;","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/features/veriler/verilerSlice.ts"],"names":["createSlice","axios","el","_id","user","category","mission","name","surName","start","end","initialState","veriler","veri","verilerOzel","errors","nam","surNam","categor","missio","gosterilen","isCompleted","updateEl","updateId","message","tarih","verilerSlice","reducers","setInitial","state","setMessage","setVeriler","action","payload","setVeri","setVerilerOzel","setDataFailed","setGosterilen","setUpdateEL","eleman","find","item","setVeriTarih","actions","getVeriler","date","dispatch","get","then","res","data","catch","err","getVerilerOzel","setVerilerToDatabase","token","localStorage","getItem","post","headers","response","deleteVeriler","id","delete","updateVeriler","put","stateVeri","verilerStates","verilerOzelStates","stateGoster","stateUpdateEl","stateUpdateId","stateCompleted","stateMessage","stateTarih","stateErrors","reducer"],"mappings":"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","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, RootState } from '../../app/store';\nimport axios from 'axios';\nimport {VeriDatas, Datas, ErrorVeriler} from './veriInterface';\n\n\ninterface VerilerState {\n  veriler:Array<VeriDatas>;\n  veri:Datas;\n  verilerOzel:Array <Datas>;\n  errors:ErrorVeriler;\n  gosterilen: number;\n  isCompleted: boolean;\n  updateEl:Datas;\n  message:string;\n  updateId:string;\n  tarih: string;\n};\n\nconst el = { _id:'', user:'', category:'', mission:'', name:'', surName:'', start:'', end:''}\n\nconst initialState: VerilerState = {\n  veriler: [],\n  veri: el,\n  verilerOzel:[],\n  errors:{nam:'', surNam:'', categor:'', missio:''},\n  gosterilen: 1, \n  isCompleted: false,\n  updateEl:el,\n  updateId:'',\n  message:'',\n  tarih: '01/10/2010'\n};\n\nexport const verilerSlice = createSlice({\n  name: 'veriler',\n  initialState,\n  reducers: {\n    setInitial:(state) => {\n      state.updateEl = el;\n      state.isCompleted = false;  \n      state.errors = {nam:'', surNam:'', categor:'', missio:''};\n    },\n    setMessage:(state) => {\n      state.message = '';\n      state.veri = el;\n    },\n    setVeriler:(state, action: PayloadAction<Array<VeriDatas>>) => {\n      state.veriler = action.payload;\n      state.isCompleted = true;\n    },\n    setVeri:(state, action: PayloadAction<Datas>) => {\n      state.veri = action.payload;\n      state.isCompleted = true;\n    },\n    setVerilerOzel:(state, action: PayloadAction<Array<Datas>>) => {\n      state.verilerOzel = action.payload;\n      state.isCompleted = true;\n    },\n    setDataFailed: (state, action: PayloadAction<ErrorVeriler>) => {\n      state.errors = action.payload;\n      state.isCompleted = false;\n    },\n    setGosterilen:(state, action: PayloadAction<number>) => {\n      state.gosterilen = action.payload;\n    },\n    setUpdateEL:(state, action: PayloadAction<string>) => {\n      const eleman = state.verilerOzel.find(item => item._id === action.payload);\n      if(eleman){\n        state.updateEl = eleman; \n      }\n      \n    },\n    setVeriTarih:(state, action: PayloadAction<string>) => {\n      state.tarih = action.payload;\n    }\n\n  },\n});\n\nexport const { setVeriler, setVeri, setDataFailed, setUpdateEL,\n  setVerilerOzel, setGosterilen, setInitial, setMessage, setVeriTarih } = verilerSlice.actions;\n\n\n//// verileri getiriyor\n\nexport const getVeriler = (date: string) : AppThunk => dispatch => {\n    axios.get(`http://localhost:5000/api/veriler?date=${date}`)\n    .then(res => {\n        dispatch(setVeriler(res.data));\n    })\n    .catch(err =>{\n        dispatch(setDataFailed(err))\n    })\n};\n\nexport const getVerilerOzel = (category: string, mission: string): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/veriler/ozel?category=${category}&mission=${mission}`)\n  .then(res => {\n      dispatch(setVerilerOzel(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const setVerilerToDatabase = (data: Datas ): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/veriler/create', data,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n    dispatch(setVeri(res.data));\n    dispatch(setInitial());\n  })\n  .catch(err =>{\n    dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\nexport const deleteVeriler = (id: string, category: string, mission: string): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/veriler/${id}`,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getVerilerOzel(category, mission))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const updateVeriler = (id: string, data: Datas, category: string, mission: string): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/veriler/update/${id}`, data,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getVerilerOzel(category, mission));\n      dispatch(setInitial());\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\nexport const stateVeri = (state: RootState) => state.veriler.veri;\nexport const verilerStates = (state: RootState) => state.veriler.veriler;\nexport const verilerOzelStates = (state: RootState) => state.veriler.verilerOzel;\nexport const stateGoster = (state: RootState) => state.veriler.gosterilen;\nexport const stateUpdateEl = (state: RootState) => state.veriler.updateEl;\nexport const stateUpdateId = (state: RootState) => state.veriler.updateId;\nexport const stateCompleted = (state: RootState) => state.veriler.isCompleted;\nexport const stateMessage = (state: RootState) => state.veriler.message;\nexport const stateTarih = (state: RootState) => state.veriler.tarih;\nexport const stateErrors = (state: RootState) => state.veriler.errors;\n\n\n\n\nexport default verilerSlice.reducer;"]},"metadata":{},"sourceType":"module"}