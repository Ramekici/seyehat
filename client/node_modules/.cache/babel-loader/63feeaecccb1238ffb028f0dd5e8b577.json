{"ast":null,"code":"import _defineProperty from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{setTarihItems,updateTarihItems,stateTarih}from'../../../features/veriler/tarihSlice';import InputText from'../inputUI/InputText';import SelectedDate from'../../components/date/SelectedDate';import TarihteBugunList from'./TarihteBugunList';import Heading from'../inputUI/Heading';import Button from'../inputUI/Button';var TarihteBugun=function TarihteBugun(){var dispatch=useDispatch();var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1];var _useState3=useState({title:'',info:''}),_useState4=_slicedToArray(_useState3,2),veri=_useState4[0],setVeri=_useState4[1];var title=veri.title,info=veri.info;///// redux\nvar tarih=useSelector(stateTarih);///// error part\nvar _useState5=useState({titl:'',inf:''}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var titl=errors.titl,inf=errors.inf;useEffect(function(){setErrors(_objectSpread({},tarih.errors));},[tarih.errors]);///// fonksiyonlar\nvar onHandleVeri=function onHandleVeri(name){return function(event){setVeri(_objectSpread(_objectSpread({},veri),{},_defineProperty({},name,event.target.value)));};};useEffect(function(){if(tarih.tarihItem._id!==''){setVeri({title:tarih.tarihItem.title,info:tarih.tarihItem.info});setStartDate(new Date(\"\".concat(tarih.tarihItem.month,\"/\").concat(tarih.tarihItem.day,\"/\").concat(tarih.tarihItem.year)));}},[tarih.tarihItem._id]);useEffect(function(){if(tarih.completed){setVeri({title:\"\",info:\"\"});}},[tarih.completed]);var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();var payload={_id:'',user:'',title:title,info:info,date:startDate};if(tarih.tarihItem._id!==''){payload={_id:tarih.tarihItem._id,user:tarih.tarihItem.user,title:title,info:info,date:startDate};dispatch(updateTarihItems(tarih.tarihItem._id,payload,startDate));}else{dispatch(setTarihItems(payload));}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{marginLeft:\"-10px\",marginRight:\"-10px\"}},/*#__PURE__*/React.createElement(\"section\",{className:\"pb-2\",style:{borderBottom:\"2px solid darkgray\"}},/*#__PURE__*/React.createElement(Heading,{text:\"Yeni Tarih Verisi Giri\\u015Fi/G\\xFCncelleme\"}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitHandler},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6 px-0\"},/*#__PURE__*/React.createElement(InputText,{col:\"col\",id:\"baslik\",onChangeHandler:onHandleVeri(\"title\"),val:title,label:\"Ba\\u015Fl\\u0131k\",type:\"text\",error:titl})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6 my-2\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"selectedDa\"},\" Tarih \")),/*#__PURE__*/React.createElement(SelectedDate,{onChangeHandler:function onChangeHandler(date){return setStartDate(date);},date:startDate,id:\"tarihteBugun\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 px-0\"},/*#__PURE__*/React.createElement(InputText,{metin:true,col:\"col\",id:\"metin\",onChangeHandler:onHandleVeri(\"info\"),val:info,label:\"A\\xE7\\u0131klama\",type:\"textarea\",error:inf}))),/*#__PURE__*/React.createElement(Button,{text:tarih.tarihItem._id!==''?\"GÃ¼ncelle\":\"Kaydet\"}))),/*#__PURE__*/React.createElement(TarihteBugunList,null));};export default TarihteBugun;","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/components/admin/tariteBugun/TarihteBugun.tsx"],"names":["React","useState","useEffect","useDispatch","useSelector","setTarihItems","updateTarihItems","stateTarih","InputText","SelectedDate","TarihteBugunList","Heading","Button","TarihteBugun","dispatch","Date","startDate","setStartDate","title","info","veri","setVeri","tarih","titl","inf","errors","setErrors","onHandleVeri","name","event","target","value","tarihItem","_id","month","day","year","completed","onSubmitHandler","e","preventDefault","payload","user","date","marginLeft","marginRight","borderBottom"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { setTarihItems, updateTarihItems, stateTarih} from '../../../features/veriler/tarihSlice';\n\n\nimport InputText from '../inputUI/InputText';\nimport SelectedDate from '../../components/date/SelectedDate';\nimport TarihteBugunList from './TarihteBugunList';\nimport Heading from '../inputUI/Heading';\nimport Button from '../inputUI/Button';\n\n\nconst TarihteBugun: React.FC = () => {\n    const dispatch = useDispatch();\n    \n    const [startDate, setStartDate] = useState(new Date());\n    const [veri, setVeri] = useState({title:'', info:''})\n    const {title, info} = veri;\n\n\n    ///// redux\n    const tarih = useSelector(stateTarih);\n\n    ///// error part\n    const [errors, setErrors] = useState({titl:'', inf:''});\n    const {titl, inf} = errors;\n\n    useEffect(() => {\n        setErrors({...tarih.errors});\n    },[tarih.errors])\n\n\n    ///// fonksiyonlar\n\n    const onHandleVeri = (name:string)=> (event:any) => {\n        setVeri({...veri, [name]: event.target.value})\n    }\n\n    useEffect(() => {\n        if (tarih.tarihItem._id !== '') {\n            setVeri({title: tarih.tarihItem.title, info: tarih.tarihItem.info});\n            setStartDate(new Date(`${tarih.tarihItem.month}/${tarih.tarihItem.day}/${tarih.tarihItem.year}`))\n        } \n    }, [tarih.tarihItem._id])\n\n    useEffect(()=>{\n        if (tarih.completed) {\n            setVeri({title: \"\", info: \"\"});\n        }\n    },[tarih.completed]);\n\n\n    const onSubmitHandler = (e:any) => {\n        e.preventDefault();\n        let payload = {_id:'',user:'', title, info, date: startDate}\n        if(tarih.tarihItem._id !== '') {\n            payload = {_id:tarih.tarihItem._id, user:tarih.tarihItem.user, title, info, date: startDate}\n            dispatch(updateTarihItems(tarih.tarihItem._id, payload, startDate));\n        } else {\n            dispatch(setTarihItems(payload));  \n        }   \n    }\n\n\n    return (\n        <div className=\"container\" style={{marginLeft:\"-10px\", marginRight:\"-10px\"}}>\n            <section className=\"pb-2\" style={{borderBottom:\"2px solid darkgray\"}}> \n            <Heading text=\"Yeni Tarih Verisi GiriÅi/GÃ¼ncelleme\"/>\n            <form onSubmit={onSubmitHandler}>\n                <div className=\"row mt-3\">\n                <div className=\"col-12 col-lg-6 px-0\">\n                    <InputText \n                        col=\"col\"\n                        id=\"baslik\"\n                        onChangeHandler={onHandleVeri(\"title\")} \n                        val={title} \n                        label=\"BaÅlÄ±k\"\n                        type=\"text\"\n                        error={titl}/>\n                    </div>\n                    <div className=\"col-12 col-lg-6 my-2\">\n                        <div>\n                           <label htmlFor=\"selectedDa\"> Tarih </label> \n                        </div>\n                        <SelectedDate\n                            onChangeHandler={(date) => setStartDate(date)} \n                            date={startDate} \n                            id=\"tarihteBugun\"\n                            />\n                    </div>\n                </div>   \n                <div className=\"row mt-3\">\n                    <div className=\"col-12 px-0\">\n                        <InputText \n                            metin={true}\n                            col=\"col\"\n                            id=\"metin\"\n                            onChangeHandler={onHandleVeri(\"info\")} \n                            val={info} \n                            label=\"AÃ§Ä±klama\"\n                            type=\"textarea\"\n                            error={inf}\n                        />\n                    </div>\n                </div> \n                <Button text ={tarih.tarihItem._id !== '' ? \"GÃ¼ncelle\" : \"Kaydet\" } />\n            </form>\n            </section>\n            <TarihteBugunList/>\n        </div>\n        \n       \n        \n    )\n}\n\nexport default TarihteBugun;"]},"metadata":{},"sourceType":"module"}