{"ast":null,"code":"var _jsxFileName = \"/Users/ramazanekici/new-app/client/src/components/admin/veriler/VerilerCreate.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setVerilerToDatabase, stateUpdateEl, stateVeri, stateCompleted, updateVeriler, stateMessage, setMessage, stateDatas } from '../../../features/veriler/verilerSlice';\nimport { getKategoriler, stateKategoriler } from '../../../features/veriler/kategorilerSlice';\nimport '../../components/date/SelectedDate.css';\nimport Selector from '../inputUI/Selector';\nimport Tarih from '../inputUI/Tarih';\nimport InputText from '../inputUI/InputText';\nimport VerilerList from './VerilerList';\nimport Tooltip from './Tooltip';\nimport Heading from '../inputUI/Heading';\nimport Button from '../inputUI/Button';\n\nconst VerilerCreate = () => {\n  const dispatch = useDispatch(); //// state\n\n  const [startDate, setStartDate] = useState(new Date());\n  const [endDate, setEndDate] = useState(new Date());\n  const [veri, setVeri] = useState({\n    name: '',\n    surName: '',\n    mission: '',\n    category: ''\n  });\n  const {\n    name,\n    surName,\n    mission,\n    category\n  } = veri; ////// redux\n\n  const updateEl = useSelector(stateUpdateEl);\n  const completed = useSelector(stateCompleted);\n  const message = useSelector(stateMessage);\n  const data = useSelector(stateVeri); //////\n\n  const genel = useSelector(stateDatas);\n  const kategoriDatas = useSelector(stateKategoriler); ////input fonksiyon\n\n  const onHandleVeri = name => event => {\n    setVeri({ ...veri,\n      [name]: event.target.value\n    });\n  }; ///// Kategori Part\n\n\n  useEffect(() => {\n    dispatch(getKategoriler());\n  }, [dispatch]);\n  let kategorilerim = [];\n  const [missionEls, setMissionEls] = useState([]);\n  kategoriDatas.map(item => kategorilerim.push(item.category));\n  useEffect(() => {\n    if (category !== '') {\n      const el = kategoriDatas.find(item => item.category === category);\n\n      if (el) {//setMissionEls(el.missions)   \n      }\n    }\n  }, [category]); /////// Error Part\n\n  const [errors, setErrors] = useState({\n    nam: '',\n    surNam: '',\n    categor: '',\n    missio: ''\n  });\n  const {\n    nam,\n    surNam,\n    categor,\n    missio\n  } = errors;\n  useEffect(() => {\n    setErrors({ ...genel.errors\n    });\n  }, [genel.errors]); ///// update part\n\n  useEffect(() => {\n    if (genel.updateId !== '') {\n      setVeri({\n        name: genel.updateEl.name,\n        surName: genel.updateEl.surName,\n        category: genel.updateEl.category,\n        mission: genel.updateEl.mission\n      });\n      setStartDate(new Date(genel.updateEl.start));\n      setEndDate(new Date(genel.updateEl.end));\n    }\n  }, [genel.updateId]);\n  useEffect(() => {\n    if (genel.isCompleted) {\n      setVeri({\n        name: '',\n        surName: '',\n        category: '',\n        mission: ''\n      });\n      setStartDate(new Date());\n      setEndDate(new Date());\n    }\n  }, [genel.isCompleted]); /// submit part \n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    let payload = {\n      _id: '',\n      user: '',\n      category,\n      mission,\n      name,\n      surName,\n      start: startDate.toISOString().split('T')[0],\n      end: endDate.toISOString().split('T')[0]\n    };\n\n    if (updateEl) {\n      payload = {\n        _id: updateEl._id,\n        user: updateEl.user,\n        category,\n        mission,\n        name,\n        surName,\n        start: startDate.toISOString().split('T')[0],\n        end: endDate.toISOString().split('T')[0]\n      };\n      dispatch(updateVeriler(updateEl._id, payload, category, mission));\n    } else {\n      dispatch(setVerilerToDatabase(payload));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      marginLeft: \"-10px\",\n      marginRight: \"-10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    message: message,\n    onDeleteMessage: () => dispatch(setMessage()),\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"pb-2\",\n    style: {\n      borderBottom: \"2px solid darkgray\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    text: \"Yeni Veri Giri\\u015Fi/G\\xFCncelleme\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Selector, {\n    title: \"Kategori\",\n    items: kategorilerim,\n    item: category,\n    onHandleVeri: onHandleVeri(\"category\"),\n    error: categor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Selector, {\n    title: \"G\\xF6revler\",\n    items: missionEls,\n    item: mission,\n    onHandleVeri: onHandleVeri(\"mission\"),\n    error: missio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-6 px-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    col: \"col\",\n    id: \"ad\",\n    onChangeHandler: onHandleVeri(\"name\"),\n    val: name,\n    label: \"Ad\",\n    type: \"text\",\n    error: nam,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 col-lg-6 px-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputText, {\n    col: \"col\",\n    id: \"soyad\",\n    onChangeHandler: onHandleVeri(\"surName\"),\n    val: surName,\n    label: \"Soyad\",\n    type: \"text\",\n    error: surNam,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Tarih, {\n    startDate: startDate,\n    endDate: endDate,\n    onChangeHandlerStart: date => setStartDate(date),\n    onChangeHandlerEnd: date => setEndDate(date),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    text: updateEl._id !== '' ? 'Güncelle' : 'Kaydet',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(VerilerList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default VerilerCreate;","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/components/admin/veriler/VerilerCreate.tsx"],"names":["React","useState","useEffect","useDispatch","useSelector","setVerilerToDatabase","stateUpdateEl","stateVeri","stateCompleted","updateVeriler","stateMessage","setMessage","stateDatas","getKategoriler","stateKategoriler","Selector","Tarih","InputText","VerilerList","Tooltip","Heading","Button","VerilerCreate","dispatch","startDate","setStartDate","Date","endDate","setEndDate","veri","setVeri","name","surName","mission","category","updateEl","completed","message","data","genel","kategoriDatas","onHandleVeri","event","target","value","kategorilerim","missionEls","setMissionEls","map","item","push","el","find","errors","setErrors","nam","surNam","categor","missio","updateId","start","end","isCompleted","onSubmitHandler","e","preventDefault","payload","_id","user","toISOString","split","marginLeft","marginRight","borderBottom","date"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setVerilerToDatabase, stateUpdateEl, stateVeri,stateCompleted,\n    updateVeriler, stateMessage, setMessage, stateErrors, stateUpdateId, stateDatas} \n    from '../../../features/veriler/verilerSlice';\n\n\nimport { getKategoriler, stateKategoriler } from '../../../features/veriler/kategorilerSlice';\n\nimport '../../components/date/SelectedDate.css';\nimport Selector from '../inputUI/Selector';\nimport Tarih from '../inputUI/Tarih';\nimport InputText from '../inputUI/InputText';\nimport VerilerList from './VerilerList';\nimport Tooltip from './Tooltip';\nimport Heading from '../inputUI/Heading';\nimport Button from '../inputUI/Button';\n\nconst VerilerCreate = () => {\n\n    const dispatch = useDispatch();\n    //// state\n    const [startDate, setStartDate] = useState(new Date());\n    const [endDate, setEndDate] = useState(new Date());\n    const [veri, setVeri] = useState({name:'', surName:'', mission:'', category:''});\n    const {name, surName, mission, category} = veri;\n    ////// redux\n\n    const updateEl = useSelector(stateUpdateEl);\n    const completed = useSelector(stateCompleted);\n    const message = useSelector(stateMessage);\n    const data = useSelector(stateVeri);\n\n    //////\n    const genel = useSelector(stateDatas);\n    const kategoriDatas = useSelector(stateKategoriler);\n    \n\n    \n   \n    ////input fonksiyon\n    const onHandleVeri = (name:string) => (event:any) => {\n        setVeri({...veri, [name]: event.target.value})\n    }\n\n    ///// Kategori Part\n    useEffect(() => {\n        dispatch(getKategoriler());\n    }, [dispatch]);\n\n    \n    let kategorilerim:Array<string> = [];\n\n    const [missionEls, setMissionEls] = useState<Array<string>>([]);\n    \n    kategoriDatas.map(item => kategorilerim.push(item.category));\n\n    useEffect(()=> {\n        if(category !== '') {\n            const el = kategoriDatas.find(item => item.category === category);\n            if(el){\n               //setMissionEls(el.missions)   \n            }\n        } \n    }, [category])\n\n    /////// Error Part\n\n    const [errors, setErrors] = useState({nam:'', surNam:'', categor:'', missio:''});\n    const {nam, surNam, categor, missio} = errors;\n\n    useEffect(() => {\n        setErrors({...genel.errors});\n    },[genel.errors])\n\n    ///// update part\n\n\n    useEffect(() => {\n        if (genel.updateId !== '') {\n            setVeri({name: genel.updateEl.name, surName: genel.updateEl.surName, \n                category: genel.updateEl.category, mission: genel.updateEl.mission});\n            setStartDate(new Date(genel.updateEl.start));\n            setEndDate(new Date(genel.updateEl.end))\n        }\n    }, [genel.updateId])\n\n    useEffect(() => {\n        if(genel.isCompleted) {\n           setVeri({name: '', surName: '', category: '', mission: ''});\n            setStartDate(new Date());\n            setEndDate(new Date()) \n        }\n        \n    },[genel.isCompleted])\n\n    \n    /// submit part \n\n    const onSubmitHandler = (e:any) => {\n        e.preventDefault();\n        let payload = { _id: '', user: '', category, mission, name, surName, \n            start: startDate.toISOString().split('T')[0], \n            end: endDate.toISOString().split('T')[0] }\n        if(updateEl) {\n            payload = {\n                _id: updateEl._id, user:updateEl.user ,category, mission, name, surName, \n                start: startDate.toISOString().split('T')[0], \n                end: endDate.toISOString().split('T')[0]\n            }\n            dispatch(updateVeriler(updateEl._id, payload, category, mission))\n        } else {\n           dispatch(setVerilerToDatabase(payload)); \n        } \n    }\n\n\n    return (\n        <div className=\"container\" style={{marginLeft:\"-10px\", marginRight:\"-10px\"}}>\n            <Tooltip \n                message={message} \n                onDeleteMessage = {()=> dispatch(setMessage())}\n                data= {data}\n            />\n            <section className=\"pb-2\" style={{borderBottom:\"2px solid darkgray\"}}> \n                <Heading text=\"Yeni Veri Girişi/Güncelleme\" />\n                <form onSubmit={onSubmitHandler}>\n                    <div className=\"row align-items-center\">\n                        <div className=\"col-md-6\">\n                            <Selector\n                                title=\"Kategori\"\n                                items={kategorilerim} \n                                item={category}\n                                onHandleVeri={onHandleVeri(\"category\")}\n                                error={categor}/>\n                        </div>\n                        <div className=\"col-md-6\">\n                            <Selector\n                                title=\"Görevler\"\n                                items={missionEls} \n                                item={mission} \n                                onHandleVeri={onHandleVeri(\"mission\")}\n                                error={missio}/>\n                        </div>\n                    </div> \n                    <div className=\"row mt-3\">\n                            <div className=\"col-12 col-lg-6 px-0\">\n                                <InputText\n                                col=\"col\"\n                                id=\"ad\"\n                                onChangeHandler={onHandleVeri(\"name\")} \n                                val={name} \n                                label=\"Ad\"\n                                type=\"text\"\n                                error={nam}\n                                />\n                            </div>\n                            <div className=\"col-12 col-lg-6 px-0\">\n                                <InputText\n                                    col=\"col\"\n                                    id=\"soyad\"\n                                    onChangeHandler={onHandleVeri(\"surName\")} \n                                    val={surName} \n                                    label=\"Soyad\"\n                                    type=\"text\"\n                                    error={surNam}\n                                    />\n                            </div>\n                        </div>\n                        <Tarih \n                            startDate={startDate} \n                            endDate={endDate} \n                            onChangeHandlerStart={(date) => setStartDate(date)}\n                            onChangeHandlerEnd={(date) => setEndDate(date)}\n                        />\n                        <Button text = {updateEl._id !== '' ? 'Güncelle': 'Kaydet'}/>\n                     \n                </form>\n            </section>\n            <VerilerList/>\n        </div>\n       \n        \n    )\n}\n\nexport default VerilerCreate;"]},"metadata":{},"sourceType":"module"}