{"ast":null,"code":"import _defineProperty from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{getKategoriler,stateKategoriler,setId,setAltId,deleteAltKategorilerFromDatabase,deleteKategorilerFromDatabase}from'../../../features/veriler/kategorilerSlice';import{setModalOpen}from'../../../features/modal/modalSlice';import Heading from'../inputUI/Heading';export default function Kategoriler(){var dispatch=useDispatch();var kategoriDatas=useSelector(stateKategoriler);useEffect(function(){dispatch(getKategoriler());},[dispatch]);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),openState=_useState2[0],setOpenState=_useState2[1];var changePos=function changePos(id,i){var elemans=Object.keys(openState);var elam=elemans.findIndex(function(item){return item===id;});if(Object.values(openState)[elam]){setOpenState(_objectSpread(_objectSpread({},openState),{},_defineProperty({},id,false)));}else{setOpenState(_objectSpread(_objectSpread({},openState),{},_defineProperty({},id,true)));}};var setEl=function setEl(id,altId){var payload={id:id,altId:altId};return setAltId(payload);};var kategoriler=kategoriDatas.length>0?kategoriDatas.map(function(item,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\",key:item._id,style:Object.values(openState)[i]?{border:\"2px solid orange\"}:{}},/*#__PURE__*/React.createElement(\"div\",{className:\"list-group-item list-group-item-action\"},(item.missions?item.missions.length>0:false)?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-info m-2 p-2\",onClick:function onClick(){changePos(item._id,i);}},/*#__PURE__*/React.createElement(\"i\",{className:Object.values(openState)[i]?\"fas fa-arrow-circle-up\":\"fas fa-arrow-circle-down\"})):null,item.category,(item.missions?item.missions.length<=0:null)||Object.values(openState)[i]?/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm m-2 p-2\",onClick:function onClick(){dispatch(setId(item._id));dispatch(setModalOpen());}},\"Yeni Alt Ba\\u015Fl\\u0131k Ekle \"):null,!Object.values(openState)[i]?/*#__PURE__*/React.createElement(\"div\",{style:{float:\"right\"}},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-success m-1 p-3\",onClick:function onClick(){return dispatch(setId(item._id));}},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-edit\"}),\" G\\xFCncelle \"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-danger m-1 p-3\",onClick:function onClick(){return dispatch(deleteKategorilerFromDatabase(item._id));}},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-trash-alt\"}),\" Sil \")):null,Object.values(openState)[i]?/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\"},item.missions?item.missions.map(function(i,ind){return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group-item\",style:{display:\"flex\",justifyContent:\"space-between\"}},/*#__PURE__*/React.createElement(\"div\",null,i),/*#__PURE__*/React.createElement(\"div\",{style:{justifyContent:\"space-around\"}},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-danger\",onClick:function onClick(){return dispatch(deleteAltKategorilerFromDatabase(item._id,i));}},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-trash-alt\"}),\" Sil \"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-sm btn-info\",\"data-toggle\":\"modal\",\"data-target\":\"#altBasl\\u0131k\",onClick:function onClick(){dispatch(setEl(item._id,i));dispatch(setModalOpen());}},/*#__PURE__*/React.createElement(\"i\",{className:\"far fa-edit\"}),\" G\\xFCncelle \")));}):null):null));}):null;return/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(Heading,{text:\"Kategori Listeleme\"}),kategoriler);}","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/components/admin/kategoriler/Kategoriler.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","getKategoriler","stateKategoriler","setId","setAltId","deleteAltKategorilerFromDatabase","deleteKategorilerFromDatabase","setModalOpen","Heading","Kategoriler","dispatch","kategoriDatas","openState","setOpenState","changePos","id","i","elemans","Object","keys","elam","findIndex","item","values","setEl","altId","payload","kategoriler","length","map","_id","border","missions","category","float","ind","display","justifyContent"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getKategoriler, stateKategoriler, \n    setId, setAltId, deleteAltKategorilerFromDatabase, \n    deleteKategorilerFromDatabase } from '../../../features/veriler/kategorilerSlice';\n\nimport { setModalOpen } from '../../../features/modal/modalSlice';\nimport Heading from '../inputUI/Heading';\n\n\nexport default function Kategoriler() {\n    const dispatch = useDispatch();\n    const kategoriDatas = useSelector(stateKategoriler);\n\n    useEffect(() => {\n        dispatch(getKategoriler());\n    }, [dispatch]);\n\n    \n\n    const [openState, setOpenState] = useState({});\n\n    const changePos = (id: string, i: number) => {\n        const elemans = Object.keys(openState);\n        const elam = elemans.findIndex(item => item === id);\n        if(Object.values(openState)[elam]) {\n            setOpenState({...openState, [id]: false});\n        } else {\n            setOpenState({...openState, [id]: true});\n        }\n    }\n\n\n    const setEl = (id:string, altId:string) => {\n        const payload = {id, altId};\n        return setAltId(payload);\n    } \n\n\n    let kategoriler = kategoriDatas.length > 0 ? kategoriDatas.map((item, i) => {\n        return(\n            <div className=\"list-group\" key={item._id} \n                style={Object.values(openState)[i] ? {border:\"2px solid orange\"} : {}}>\n                <div className=\"list-group-item list-group-item-action\" >\n                    {(item.missions ? item.missions.length > 0: false) ? \n                    <button className=\"btn btn-info m-2 p-2\" \n                        onClick={()=> {changePos(item._id, i)}}>\n                        <i className={Object.values(openState)[i] ? \n                            \"fas fa-arrow-circle-up\" : \n                            \"fas fa-arrow-circle-down\"}></i>\n                    </button> : null}\n                    {item.category} \n                    { (item.missions ? item.missions.length <= 0 :null)|| Object.values(openState)[i]? \n                        <button className=\"btn btn-sm m-2 p-2\"\n                                onClick={() => {\n                                    dispatch(setId(item._id))\n                                    dispatch(setModalOpen())\n                                    }}> \n                        Yeni Alt Başlık Ekle </button> : \n                    null}\n                    {!Object.values(openState)[i]? \n                    <div style={{float:\"right\"}} > \n                        <button className=\"btn btn-sm btn-success m-1 p-3\" \n                            onClick={() => dispatch(setId(item._id))}> \n                            <i className=\"far fa-edit\"></i> Güncelle </button>\n                        <button className=\"btn btn-sm btn-danger m-1 p-3\"\n                            onClick={() => dispatch(deleteKategorilerFromDatabase(item._id))}> \n                            <i className=\"far fa-trash-alt\"></i> Sil </button>\n                    </div>\n                    :null}\n                    {Object.values(openState)[i] ?\n                    <div className=\"list-group\">\n                        {item.missions ? item.missions.map((i, ind) => {\n                         return ( <div className=\"list-group-item\" \n                                        style={{display:\"flex\", justifyContent:\"space-between\"}}> \n                                    <div>\n                                       {i} \n                                    </div>\n                                    <div style={{justifyContent:\"space-around\"}}>\n                                        <button className=\"btn btn-sm btn-danger\" \n                                            onClick={() => dispatch(deleteAltKategorilerFromDatabase(item._id, i))}> \n                                            <i className=\"far fa-trash-alt\"></i> Sil </button>\n                                        <button className=\"btn btn-sm btn-info\"\n                                        data-toggle=\"modal\" \n                                        data-target=\"#altBaslık\"\n                                        onClick={() => {\n                                            dispatch(setEl(item._id, i))\n                                            dispatch(setModalOpen())\n                                            }}>\n                                        <i className=\"far fa-edit\"></i> Güncelle </button>\n                                    </div>  \n                         </div>)}): null\n                        }\n                    </div>: null}\n                    \n                </div>\n          </div>\n        )\n    }) : null;\n    return  (<div className=\"mt-3\">\n                <Heading text=\"Kategori Listeleme\" />\n                {kategoriler}\n            </div>);\n\n}"]},"metadata":{},"sourceType":"module"}