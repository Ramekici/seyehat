{"ast":null,"code":"import _defineProperty from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/ramazanekici/new-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import InputText from'../inputUI/InputText';import SelectedDate from'../../components/date/SelectedDate';import{setGazetelerToDatabase,stateErrors,stateCompleted,stateUpdateEl,updateGazeteler}from'../../../features/veriler/gazetelerSlice';import GazeteMansetList from'./GazeteMansetList';import Heading from'../inputUI/Heading';import Button from'../inputUI/Button';export default function GazeteVerileri(){var dispatch=useDispatch();var errorsFromDatabase=useSelector(stateErrors);var updateEL=useSelector(stateUpdateEl);var completed=useSelector(stateCompleted);var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),startDate=_useState2[0],setStartDate=_useState2[1];var _useState3=useState({title:'',description:'',owner:'',name:''}),_useState4=_slicedToArray(_useState3,2),veri=_useState4[0],setVeri=_useState4[1];var title=veri.title,description=veri.description,owner=veri.owner,name=veri.name;var onHandleVeri=function onHandleVeri(name){return function(event){setVeri(_objectSpread(_objectSpread({},veri),{},_defineProperty({},name,event.target.value)));};};useEffect(function(){if(updateEL){setVeri({title:updateEL.title,description:updateEL.description,owner:updateEL.owner,name:updateEL.name});setStartDate(new Date(updateEL.date));}else if(completed){setVeri({title:'',description:'',owner:'',name:''});}},[updateEL,completed]);var _useState5=useState({nam:'',titl:'',desc:'',dat:''}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var nam=errors.nam,titl=errors.titl,desc=errors.desc;useEffect(function(){setErrors(_objectSpread({},errorsFromDatabase));},[errorsFromDatabase]);var onSubmitHandler=function onSubmitHandler(e){e.preventDefault();var payload={_id:'',user:'',title:title,description:description,owner:owner,name:name,date:startDate};if(updateEL){payload={_id:updateEL._id,user:updateEL.user,title:title,description:description,owner:owner,name:name,date:startDate};dispatch(updateGazeteler(updateEL._id,payload,startDate));}else{dispatch(setGazetelerToDatabase(payload,startDate));}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\",style:{marginLeft:\"-10px\",marginRight:\"-10px\"}},/*#__PURE__*/React.createElement(\"section\",{className:\"pb-2\",style:{borderBottom:\"2px solid darkgray\"}},/*#__PURE__*/React.createElement(Heading,{text:\"Yeni Gazete Man\\u015Feti Giri\\u015Fi/G\\xFCncelleme\"}),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitHandler},/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6 px-0\"},/*#__PURE__*/React.createElement(InputText,{col:\"col\",id:\"name\",onChangeHandler:onHandleVeri(\"name\"),val:name,label:\"Gazete Ad\\u0131\",type:\"text\",error:nam})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6 my-2\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"selectedDatem\"},\" Tarih \")),/*#__PURE__*/React.createElement(SelectedDate,{onChangeHandler:function onChangeHandler(date){return setStartDate(date);},date:startDate,id:\"selectedDatem\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-3 align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6 px-0\"},/*#__PURE__*/React.createElement(InputText,{col:\"col\",id:\"baslik\",onChangeHandler:onHandleVeri(\"title\"),val:title,label:\"Ba\\u015Fl\\u0131k\",type:\"text\",error:titl})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 col-lg-6 px-0\"},/*#__PURE__*/React.createElement(InputText,{col:\"col\",id:\"owner\",onChangeHandler:onHandleVeri(\"owner\"),val:owner,label:\"Sahibi\",type:\"text\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-3\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 px-0\"},/*#__PURE__*/React.createElement(InputText,{metin:true,col:\"col\",id:\"description\",onChangeHandler:onHandleVeri(\"description\"),val:description,label:\"Man\\u015Fet\",type:\"textarea\",error:desc}))),/*#__PURE__*/React.createElement(Button,{text:updateEL?\"Güncelle\":\"Kaydet\"}))),/*#__PURE__*/React.createElement(GazeteMansetList,null));}","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/components/admin/gazeteManset/GazeteVerileri.tsx"],"names":["React","useState","useEffect","useDispatch","useSelector","InputText","SelectedDate","setGazetelerToDatabase","stateErrors","stateCompleted","stateUpdateEl","updateGazeteler","GazeteMansetList","Heading","Button","GazeteVerileri","dispatch","errorsFromDatabase","updateEL","completed","Date","startDate","setStartDate","title","description","owner","name","veri","setVeri","onHandleVeri","event","target","value","date","nam","titl","desc","dat","errors","setErrors","onSubmitHandler","e","preventDefault","payload","_id","user","marginLeft","marginRight","borderBottom"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport InputText from '../inputUI/InputText';\nimport SelectedDate from '../../components/date/SelectedDate';\nimport {setGazetelerToDatabase, stateErrors, stateCompleted,\n    stateUpdateEl , updateGazeteler} from '../../../features/veriler/gazetelerSlice'\nimport GazeteMansetList from './GazeteMansetList';\nimport Heading from '../inputUI/Heading';\nimport Button from '../inputUI/Button'\n\nexport default function GazeteVerileri() {\n    \n    const dispatch = useDispatch();\n    const errorsFromDatabase = useSelector(stateErrors);\n    const updateEL = useSelector(stateUpdateEl);\n    const completed = useSelector(stateCompleted);\n    const [startDate, setStartDate] = useState(new Date());\n    const [veri, setVeri] = useState({title:'', description:'', owner:'', name:''})\n    const {title, description, owner, name} = veri;\n    \n    const onHandleVeri = (name:string) => (event:any) => {\n        setVeri({...veri, [name]: event.target.value})\n    }\n\n    useEffect(() => {\n        if (updateEL) {\n           setVeri({title: updateEL.title, description: updateEL.description, \n            owner: updateEL.owner, name:updateEL.name});\n           setStartDate(new Date(updateEL.date))\n        } else if (completed) {\n            setVeri({title: '', description: '', owner:'', name:''});\n        }\n        \n    }, [updateEL, completed])\n\n    const [errors, setErrors] = useState({nam:'', titl:'', desc :'', dat:''});\n    const {nam, titl, desc} = errors;\n\n    useEffect(() => {\n      setErrors({...errorsFromDatabase});\n    },[errorsFromDatabase])\n\n\n    const onSubmitHandler = (e:any) => {\n        e.preventDefault();\n        let payload = {\n            _id:'', user:'', title, description, owner, name, date: startDate\n        }\n        if(updateEL){\n            payload ={ _id:updateEL._id, user:updateEL.user, title, description, owner, name, date: startDate}\n            dispatch(updateGazeteler(updateEL._id, payload, startDate))\n        } else {\n            dispatch(setGazetelerToDatabase(payload, startDate));\n        }\n    }\n\n\n    return (\n        <div className=\"container\" style={{marginLeft:\"-10px\", marginRight:\"-10px\"}}>\n            <section className=\"pb-2\" style={{borderBottom:\"2px solid darkgray\"}}> \n            <Heading text=\"Yeni Gazete Manşeti Girişi/Güncelleme\"/>\n            <form onSubmit={onSubmitHandler}>\n                <div className=\"row mt-3\">\n                    <div className=\"col-12 col-lg-6 px-0\">\n                    <InputText \n                            col=\"col\"\n                            id=\"name\"\n                            onChangeHandler={onHandleVeri(\"name\")} \n                            val={name} \n                            label=\"Gazete Adı\"\n                            type=\"text\"\n                            error={nam}/>\n                    </div>\n                    <div className=\"col-12 col-lg-6 my-2\">\n                        <div>\n                           <label htmlFor=\"selectedDatem\"> Tarih </label> \n                        </div>\n                        <SelectedDate\n                            onChangeHandler={(date) => setStartDate(date)} \n                            date={startDate} \n                            id=\"selectedDatem\"/>\n                    </div>\n                </div>\n                <div className=\"row mt-3 align-items-center\">\n                    <div className=\"col-12 col-lg-6 px-0\">\n                    <InputText \n                            col=\"col\"\n                            id=\"baslik\"\n                            onChangeHandler={onHandleVeri(\"title\")} \n                            val={title} \n                            label=\"Başlık\"\n                            type=\"text\"\n                            error={titl}/>\n                    </div>\n                    <div className=\"col-12 col-lg-6 px-0\">\n                        <InputText \n                            col=\"col\"\n                            id=\"owner\"\n                            onChangeHandler={onHandleVeri(\"owner\")} \n                            val={owner} \n                            label=\"Sahibi\"\n                            type=\"text\"/>\n                    </div>\n                </div>\n                <div className=\"row mt-3\">\n                    <div className=\"col-12 px-0\">\n                        <InputText \n                            metin={true}\n                            col=\"col\"\n                            id=\"description\"\n                            onChangeHandler={onHandleVeri(\"description\")} \n                            val={description} \n                            label=\"Manşet\"\n                            type=\"textarea\"\n                            error={desc}\n                            />\n                    </div>\n                </div>\n                <Button text={updateEL ? \"Güncelle\" : \"Kaydet\" } />\n            </form>\n            </section>\n            <GazeteMansetList/>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}