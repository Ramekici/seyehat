{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\nexport const tarihSlice = createSlice({\n  name: 'tarih',\n  initialState,\n  reducers: {\n    setInitial: state => {\n      state.completed = false;\n      state.tarihItem = {\n        _id: '',\n        user: '',\n        title: '',\n        info: '',\n        date: new Date()\n      };\n    },\n    setTarihteBugun: (state, action) => {\n      state.tarihteBugun = action.payload;\n      state.completed = true;\n    },\n    setIlgiliTarih: (state, action) => {\n      state.ilgiliTarihteki = action.payload;\n    },\n    setDataFailed: (state, action) => {\n      state.errors = action.payload;\n      state.completed = false;\n    },\n    setTarihId: (state, action) => {\n      const item = state.ilgiliTarihteki.find(item => item._id === action.payload);\n\n      if (item) {\n        state.tarihItem = item;\n      }\n    }\n  }\n});\nexport const {\n  setDataFailed,\n  setTarihteBugun,\n  setIlgiliTarih,\n  setTarihId\n} = tarihSlice.actions;\nexport const getTarihteBugun = () => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihte`).then(res => {\n    dispatch(setTarihteBugun(res.data));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const getTarihtekiBilgiler = date => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihindeki?date=${date}`).then(res => {\n    dispatch(setIlgiliTarih(res.data));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const deleteTarihItems = (id, date) => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/tarih/tarihdelete/${id}`, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getTarihtekiBilgiler(date));\n  }).catch(err => {\n    dispatch(setDataFailed(err));\n  });\n};\nexport const tarihBilgileriUpdate = (id, data, date) => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/tarih/tarihupdate/${id}`, data, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getTarihtekiBilgiler(date));\n  }).catch(err => {\n    dispatch(setDataFailed(err.response.data));\n  });\n};\nexport const setTarihItems = data => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/tarih/tarihtebugun', data, {\n    headers: {\n      \"Authorization\": `Bearer ${token}`\n    }\n  }).then(res => {\n    dispatch(getTarihteBugun());\n  }).catch(err => {\n    dispatch(setDataFailed(err.response.data));\n  });\n};\nexport const stateTarihte = state => state.tarih.tarihteBugun;\nexport const stateTarih = state => state.tarih;\nexport default tarihSlice.reducer;","map":{"version":3,"sources":["/Users/ramazanekici/new-app/client/src/features/veriler/tarihSlice.ts"],"names":["createSlice","axios","tarihSlice","name","initialState","reducers","setInitial","state","completed","tarihItem","_id","user","title","info","date","Date","setTarihteBugun","action","tarihteBugun","payload","setIlgiliTarih","ilgiliTarihteki","setDataFailed","errors","setTarihId","item","find","actions","getTarihteBugun","dispatch","get","then","res","data","catch","err","getTarihtekiBilgiler","deleteTarihItems","id","token","localStorage","getItem","delete","headers","tarihBilgileriUpdate","put","response","setTarihItems","post","stateTarihte","tarih","stateTarih","reducer"],"mappings":"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","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { AppThunk, RootState } from '../../app/store';\nimport axios from 'axios';\nimport {TarihDatas, TarihState} from '../interfaces/tarihInterface';\n\n\n\n\nexport const tarihSlice = createSlice({\n  name: 'tarih',\n  initialState,\n  reducers: {\n    setInitial: (state) => {\n      state.completed = false;\n      state.tarihItem = {_id:'', user:'', title:'', info:'', date: new Date()};\n    },\n    setTarihteBugun: (state, action: PayloadAction<Array<TarihDatas>>) => {\n      state.tarihteBugun = action.payload;\n      state.completed = true;\n    },\n    setIlgiliTarih: (state, action: PayloadAction<Array<TarihDatas>>) => {\n      state.ilgiliTarihteki = action.payload\n    },\n    setDataFailed: (state, action: PayloadAction<any>) => {\n      state.errors = action.payload;\n      state.completed = false;\n    },\n    setTarihId: (state, action: PayloadAction<string>) => {\n      const item = state.ilgiliTarihteki.find(item => item._id === action.payload)\n      if(item) {\n        state.tarihItem = item\n      }\n    },\n    \n  },\n});\n\nexport const { setDataFailed, setTarihteBugun, setIlgiliTarih, setTarihId } = tarihSlice.actions;\n\n\nexport const getTarihteBugun = (): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihte`)\n  .then(res => {\n      dispatch(setTarihteBugun(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const getTarihtekiBilgiler = (date: Date): AppThunk => dispatch => {\n  axios.get(`http://localhost:5000/api/tarih/tarihindeki?date=${date}`)\n  .then(res => {\n      dispatch(setIlgiliTarih(res.data))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const deleteTarihItems  = (id: string, date: Date): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.delete(`http://localhost:5000/api/tarih/tarihdelete/${id}`, \n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getTarihtekiBilgiler(date))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err))\n  })\n};\n\nexport const tarihBilgileriUpdate = (id: string, data: TarihDatas, date: Date ): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.put(`http://localhost:5000/api/tarih/tarihupdate/${id}`, data, \n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getTarihtekiBilgiler(date))\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\nexport const setTarihItems = (data: TarihDatas): AppThunk => dispatch => {\n  const token = localStorage.getItem('token');\n  axios.post('http://localhost:5000/api/tarih/tarihtebugun', data,\n  {headers: {\"Authorization\": `Bearer ${token}`}})\n  .then(res => {\n      dispatch(getTarihteBugun())\n  })\n  .catch(err =>{\n      dispatch(setDataFailed(err.response.data))\n  })\n};\n\n\n\nexport const stateTarihte = (state: RootState) => state.tarih.tarihteBugun;\nexport const stateTarih = (state: RootState) => state.tarih;\n\n\nexport default tarihSlice.reducer;"]},"metadata":{},"sourceType":"module"}